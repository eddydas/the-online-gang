# Issue 1.6: End-Game Summary Table (UI)

**Sprint:** 1
**Priority:** CRITICAL
**Estimate:** 8 hours
**Status:** ✅ COMPLETE

## Description
Build the end-game summary table that displays results after Turn 4. This is a CORE feature (not polish). No animations required - instant display.

## Completed Features
- ✅ HTML table structure
- ✅ Players sorted by hand strength (strongest to weakest)
- ✅ Column 1: Rank number
- ✅ Column 2: Player name
- ✅ Columns 3-6: Token selections for Turns 1-4
- ✅ Column 7: All 7 cards (2 hole + 5 community) with best-five highlighting
- ✅ Column 8: Hand strength description
- ✅ Turn 4 tokens highlighted (green = correct, red = incorrect)
- ✅ WIN/LOSS announcement banner at top
- ✅ "Ready for Next Game" button with ready status counter
- ✅ Ready-up system: ALL players must click before proceeding to next game
- ✅ Real-time ready status display (e.g., "Players Ready: 2 / 4")

## Implementation Notes
- Located in `src/browser/endGameRenderer.js`
- Integrates with `gameController.js` for ready-up message handling
- Uses `NEXT_GAME_READY` P2P message type
- Ready status is reset when entering END_GAME phase
- Game only resets when `allPlayersReady()` returns true

## HTML Structure
```html
<div id="end-game-screen">
  <h1 class="result-banner"><!-- WIN or LOSS --></h1>

  <table class="summary-table">
    <thead>
      <tr>
        <th>Player</th>
        <th>Turn 1</th>
        <th>Turn 2</th>
        <th>Turn 3</th>
        <th>Turn 4</th>
        <th>Cards</th>
        <th>Hand</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows for each player, sorted by hand strength -->
    </tbody>
  </table>

  <button id="ready-next-game">Ready for Next Game</button>
</div>
```

## Styling Requirements
- Proper semantic HTML structure
- Minimal CSS for layout (full styling in Sprint 2)
- Green highlight for correct Turn 4 tokens
- Red highlight for incorrect Turn 4 tokens
- Clear WIN/LOSS banner
- Responsive table (mobile-friendly structure)

## Type Safety
```javascript
// @ts-check

/**
 * @typedef {Object} EndGameData
 * @property {boolean} isWin - Whether team won
 * @property {PlayerWithHand[]} sortedPlayers - Players sorted by strength
 * @property {Object.<string, number[]>} tokenHistory - Map of playerId to token array
 * @property {Card[]} communityCards - 5 community cards
 */

/**
 * Renders the end-game summary table
 * @param {EndGameData} data - Game result data
 * @returns {void}
 */
```

## Files to Create/Modify
- `src/ui/endGame.js` - End-game UI rendering
- `tests/ui/endGame.test.js` - DOM tests (optional for Sprint 1)
- Add HTML structure to main `index.html`

## Acceptance Criteria
- [ ] Table displays after Turn 4
- [ ] Players sorted by hand strength
- [ ] All 4 turns of token history visible
- [ ] 7 cards shown per player (2 hole + 5 community)
- [ ] Hand description displayed
- [ ] Turn 4 tokens highlighted correctly (green/red)
- [ ] WIN/LOSS banner prominent
- [ ] "Ready for Next Game" button present
- [ ] Proper HTML structure (semantic tags)
- [ ] Type checking passes (`npm run typecheck`)

## Notes
- This is **CORE functionality** in Sprint 1, not polish
- Animations deferred to Sprint 3
- Full styling deferred to Sprint 2
- Focus: functional, correct data display
