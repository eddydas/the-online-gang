# Issue 2.2: Visual Design Foundation - Poker Table & Cards

**Sprint:** 2 v2
**Priority:** CRITICAL
**Estimate:** 18 hours
**Status:** TODO

## Description
Transform the game's visual appearance from functional prototype to professional poker game. This includes the poker table layout, card design, and responsive foundation for desktop and mobile.

## User Story
As a player, I want the game to look polished and professional so that I feel engaged and the experience matches the quality of a premium card game.

## Scope
This issue combines:
- 2.1 Poker Table Layout (10 hours)
- 2.2 Card Visual Design (8 hours)

## Part 1: Poker Table Layout

### Acceptance Criteria
- [ ] Green felt poker table surface (traditional poker green: #2d5016)
- [ ] Wood-texture border around table (or brown border: #8B4513)
- [ ] Gray background (#333 or similar)
- [ ] Subtle "The Online Gang" watermark in background (low opacity)
- [ ] Circular player positioning (desktop)
- [ ] Vertical round table layout (mobile)
- [ ] Players positioned on left side on mobile
- [ ] Responsive breakpoints (320px, 768px, 1024px, 1920px)
- [ ] Proper spacing and visual hierarchy
- [ ] CSS Grid or Flexbox layout system

### Layout Structure

#### Desktop (≥1024px)
```
┌─────────────────────────────────────┐
│         Gray Background             │
│  ┌──────────────────────────────┐  │
│  │     Wood Border              │  │
│  │  ┌────────────────────────┐  │  │
│  │  │                        │  │  │
│  │  │    Green Felt Table    │  │  │
│  │  │                        │  │  │
│  │  │   Players in circle    │  │  │
│  │  │   Community cards      │  │  │
│  │  │                        │  │  │
│  │  └────────────────────────┘  │  │
│  └──────────────────────────────┘  │
│                                     │
└─────────────────────────────────────┘
```

#### Mobile (≤768px)
```
┌──────────────┐
│  Top Bar     │
├──────────────┤
│ P1  ┌──────┐ │
│     │Green │ │
│ P2  │Felt  │ │
│     │Table │ │
│ P3  │Vert. │ │
│     │Round │ │
│ P4  └──────┘ │
│              │
└──────────────┘
Players on left, table takes most space
```

### CSS Variables
```css
:root {
  /* Colors */
  --poker-green: #2d5016;
  --wood-border: #8B4513;
  --background-gray: #333;
  --text-white: #fff;

  /* Table Dimensions */
  --table-width-desktop: 80vw;
  --table-height-desktop: 60vh;
  --table-width-mobile: 90vw;
  --table-height-mobile: 70vh;

  /* Spacing */
  --border-width: 20px;
  --padding-desktop: 40px;
  --padding-mobile: 20px;
}
```

### Responsive Breakpoints
```css
/* Mobile First */
.poker-table {
  /* Base mobile styles */
}

/* Tablet */
@media (min-width: 768px) {
  .poker-table {
    /* Tablet adjustments */
  }
}

/* Desktop */
@media (min-width: 1024px) {
  .poker-table {
    /* Desktop circular layout */
  }
}

/* Large Desktop */
@media (min-width: 1920px) {
  .poker-table {
    /* Optimized for large screens */
  }
}
```

### Player Positioning (Desktop)
```javascript
/**
 * Calculate player position around circular table
 * @param {number} playerIndex - Player index (0-7)
 * @param {number} totalPlayers - Total player count (2-8)
 * @returns {{x: string, y: string}} Position in % relative to table center
 */
function calculatePlayerPosition(playerIndex, totalPlayers) {
  const angle = (360 / totalPlayers) * playerIndex - 90; // Start at top
  const radius = 40; // % from center

  const x = 50 + radius * Math.cos(angle * Math.PI / 180);
  const y = 50 + radius * Math.sin(angle * Math.PI / 180);

  return { x: `${x}%`, y: `${y}%` };
}
```

---

## Part 2: Card Visual Design

### Acceptance Criteria
- [ ] Minimalist card faces (rank + suit symbol only)
- [ ] High contrast colors (readable on mobile)
- [ ] Red suits: ♥ (Hearts) #dc143c, ♦ (Diamonds) #dc143c
- [ ] Black suits: ♠ (Spades) #000, ♣ (Clubs) #000
- [ ] Checker pattern card backs (randomized blue or red per game)
  - Blue back: #1e3a8a background with #60a5fa checker
  - Red back: #991b1b background with #f87171 checker
- [ ] Face-up and face-down states
- [ ] Responsive card sizing:
  - Desktop: 80px × 112px (standard poker card ratio 5:7)
  - Tablet: 60px × 84px
  - Mobile: 50px × 70px
  - Mini (end-game table): 40px × 56px
- [ ] White card background (#fff)
- [ ] Rounded corners (border-radius: 8px)
- [ ] Subtle shadow for depth (box-shadow: 0 2px 4px rgba(0,0,0,0.2))

### Card HTML Structure
```html
<div class="card card-face-up" data-rank="A" data-suit="♠">
  <div class="card-inner">
    <div class="card-rank top-left">A</div>
    <div class="card-suit large">♠</div>
    <div class="card-rank bottom-right">A</div>
  </div>
</div>

<div class="card card-face-down card-back-blue">
  <div class="card-inner">
    <div class="checker-pattern"></div>
  </div>
</div>
```

### Card Styling
```css
.card {
  width: 80px;
  height: 112px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.card-face-up.red-suit {
  color: #dc143c;
}

.card-face-up.black-suit {
  color: #000;
}

.card-back-blue {
  background: #1e3a8a;
}

.card-back-red {
  background: #991b1b;
}

.checker-pattern {
  /* CSS checkerboard pattern */
  background-image:
    linear-gradient(45deg, currentColor 25%, transparent 25%),
    linear-gradient(-45deg, currentColor 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, currentColor 75%),
    linear-gradient(-45deg, transparent 75%, currentColor 75%);
  background-size: 10px 10px;
  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;
  width: 100%;
  height: 100%;
  opacity: 0.6;
}

/* Responsive sizing */
@media (max-width: 768px) {
  .card {
    width: 50px;
    height: 70px;
  }
}

.card.mini {
  width: 40px;
  height: 56px;
  font-size: 10px;
}
```

### Card Rank & Suit Layout
```css
.card-rank {
  position: absolute;
  font-weight: bold;
  font-size: 18px;
}

.card-rank.top-left {
  top: 4px;
  left: 4px;
}

.card-rank.bottom-right {
  bottom: 4px;
  right: 4px;
  transform: rotate(180deg);
}

.card-suit.large {
  font-size: 40px;
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .card-rank {
    font-size: 12px;
  }

  .card-suit.large {
    font-size: 24px;
  }
}
```

### Card State Classes
```css
/* Best Five Highlight (from hand strength assistant) */
.card.best-five {
  border: 2px solid #f39c12;
  box-shadow: 0 0 8px rgba(243, 156, 18, 0.6);
}

/* Hover state (for interactive cards) */
.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  transition: all 0.2s ease;
}
```

---

## Implementation Plan

### Phase 1: Table Layout (6 hours)
1. Create base table HTML structure in `index.html`
2. Add CSS for green felt, wood border, gray background
3. Implement responsive breakpoints
4. Add watermark background
5. Test on mobile, tablet, desktop

### Phase 2: Player Positioning (4 hours)
6. Implement circular positioning logic (desktop)
7. Implement vertical left-side positioning (mobile)
8. Add player positioning to `playerRenderer.js`
9. Test with 2, 4, 6, 8 players

### Phase 3: Card Design (5 hours)
10. Create card component in `cardRenderer.js`
11. Implement face-up card (rank + suit)
12. Implement face-down card (checker pattern)
13. Add responsive sizing classes
14. Add state classes (best-five, hover)

### Phase 4: Integration & Testing (3 hours)
15. Integrate table layout with game controller
16. Test card rendering in all game phases
17. Test responsive design on real devices (iPhone, iPad, Vision Pro)
18. Fix any visual bugs

---

## Files to Create/Modify
- `dist/index.html` - Add table structure
- `src/browser/cardRenderer.js` - Update card rendering with new styles
- `src/browser/playerRenderer.js` - Update player positioning logic
- New CSS file or inline styles for table/cards
- `src/browser/constants.js` - Add responsive breakpoints, card dimensions

---

## Testing Checklist

### Visual Testing
- [ ] Table looks professional on desktop (1920px)
- [ ] Table looks professional on laptop (1440px)
- [ ] Table looks professional on tablet (768px)
- [ ] Table looks professional on mobile (375px, 320px)
- [ ] Watermark is subtle and non-obtrusive
- [ ] Wood border renders correctly
- [ ] Green felt color is correct (#2d5016)

### Card Testing
- [ ] Face-up cards display rank and suit correctly
- [ ] Red suits are red (#dc143c)
- [ ] Black suits are black (#000)
- [ ] Face-down cards show checker pattern
- [ ] Blue back displays correctly
- [ ] Red back displays correctly
- [ ] Card backs randomize per game
- [ ] Mini cards render correctly in end-game table
- [ ] Best-five highlight works (yellow border)

### Responsive Testing
- [ ] Player positions correctly on desktop (circular)
- [ ] Player positions correctly on mobile (left side)
- [ ] Cards scale appropriately on all screen sizes
- [ ] No horizontal scroll on mobile
- [ ] Touch targets are large enough (44px minimum)

### Browser Testing
- [ ] Safari iOS (iPhone 12+)
- [ ] Safari macOS (latest)
- [ ] Safari iPad (latest)
- [ ] Vision Pro Safari (if available)
- [ ] Chrome desktop (secondary)

---

## Design Reference

### Color Palette
```
Poker Green:  #2d5016 (table felt)
Wood Border:  #8B4513 (border)
Background:   #333333 (page background)
Card White:   #FFFFFF (card face)
Red Suits:    #DC143C (hearts, diamonds)
Black Suits:  #000000 (spades, clubs)
Blue Back:    #1E3A8A (card back option)
Red Back:     #991B1B (card back option)
Yellow Highlight: #F39C12 (best five cards)
```

### Typography
- Card rank: Bold, sans-serif (system font)
- Card suit: Unicode symbols (♠ ♥ ♦ ♣)
- Font size hierarchy maintained across breakpoints

---

## Dependencies
- None (foundational work)
- Other issues will build on this foundation

---

## Notes
- This is the visual foundation for the entire game
- Mobile-first approach: design for small screens, enhance for large
- Safari iOS is primary target - test early and often
- Card backs randomize ONCE per game (stored in gameState)
- Reuse card components for consistency (lobby, game, end-game table)

---

## Definition of Done
- [ ] Poker table renders professionally on all devices
- [ ] Green felt, wood border, gray background implemented
- [ ] Watermark subtle and visible
- [ ] Cards render with correct design (face-up, face-down)
- [ ] Responsive design works (320px - 1920px)
- [ ] Player positioning works (circular desktop, vertical mobile)
- [ ] Card backs randomize per game
- [ ] No visual bugs or glitches
- [ ] Tested on Safari iOS, macOS, iPad
- [ ] Code passes typecheck
- [ ] Approved by product owner
